<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>
  Class: Functional::Option
  
    &mdash; Functional
  
</title>

  <link rel="stylesheet" href="../css/style.css" type="text/css" charset="utf-8" />

  <link rel="stylesheet" href="../css/common.css" type="text/css" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  hasFrames = window.top.frames.main ? true : false;
  relpath = '../';
  framesUrl = "../frames.html#!Functional/Option.html";
</script>


  <script type="text/javascript" charset="utf-8" src="../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../js/app.js"></script>


  </head>
  <body>
    <div id="header">
      <div id="menu">
  
    <a href="../_index.html">Index (O)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../Functional.html" title="Functional (module)">Functional</a></span></span>
     &raquo; 
    <span class="title">Option</span>
  

  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

      <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="../class_list.html">
      Class List
    </a>
  
    <a class="full_list_link" id="method_list_link"
        href="../method_list.html">
      Method List
    </a>
  
    <a class="full_list_link" id="file_list_link"
        href="../file_list.html">
      File List
    </a>
  
</div>
      <div class="clear"></div>
    </div>

    <iframe id="search_frame"></iframe>

    <div id="content"><h1>Class: Functional::Option
  
  
  
</h1>

<dl class="box">
  
    <dt class="r1">Inherits:</dt>
    <dd class="r1">
      <span class="inheritName"><span class='object_link'>Synchronization::Object</span></span>
      
        <ul class="fullTree">
          <li>Object</li>
          
            <li class="next"><span class='object_link'>Synchronization::Object</span></li>
          
            <li class="next">Functional::Option</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
      </dd>
    
  
  
    
  
    
  
  
  
    <dt class="r2 last">Defined in:</dt>
    <dd class="r2 last">lib/functional/option.rb</dd>
  
</dl>
<div class="clear"></div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    
  <div class="note notetag">
    <strong>Note:</strong>
    <div class='inline'><p>This is a write-once, read-many, thread safe object that can be
used in concurrent systems. Thread safety guarantees <em>cannot</em> be made
about objects contained <em>within</em> this object, however. Ruby variables
are mutable references to mutable objects. This cannot be changed. The
best practice it to only encapsulate immutable, frozen, or thread safe
objects. Ultimately, thread safety is the responsibility of the
programmer.</p>
</div>
  </div>

<p>An optional value that may be none (no value) or some (a value).
This type is a replacement for the use of nil with better type checks. 
It is an immutable data structure that extends <code>AbstractStruct</code>.</p>


  </div>
</div>
<div class="tags">
  

  <p class="tag_title">See Also:</p>
  <ul class="see">
    
      <li><a href="http://functionaljava.googlecode.com/svn/artifacts/3.0/javadoc/index.html" target="_parent" title="Functional Java">Functional Java</a></li>
    
  </ul>

</div>
  <h2>Constant Summary</h2>
  




  <h2>Instance Attribute Summary <small>(<a href="#" class="summary_toggle">collapse</a>)</small></h2>
  <ul class="summary">
    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#reason-instance_method" title="#reason (instance method)">- (Object) <strong>reason</strong> </a>
    

    
  </span>
  
  
  
    
      <span class="note title readonly">readonly</span>
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>The reason for the absence of a value when none, defaults to nil.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#values-instance_method" title="#values (instance method)">- (Array) <strong>values</strong> </a>
    

    
  </span>
  
    <span class="note title not_defined_here">
      included
      from <span class='object_link'><a href="AbstractStruct.html#values-instance_method" title="Functional::AbstractStruct#values (method)">AbstractStruct</a></span>
    </span>
  
  
  
    
      <span class="note title readonly">readonly</span>
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>The values of all record fields in order, frozen.</p>
</div></span>
  
</li>

    
  </ul>




  
    <h2>
      Class Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#iff-class_method" title="iff (class method)">+ (Option) <strong>iff</strong>(value, condition = NO_OPTION) { ... }</a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>If the condition satisfies, return the given A in some, otherwise, none.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#none-class_method" title="none (class method)">+ (Option) <strong>none</strong>(reason = nil) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Construct an <code>Option</code> with no value.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#some-class_method" title="some (class method)">+ (Option) <strong>some</strong>(value) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Construct an <code>Option</code> with the given value.</p>
</div></span>
  
</li>

      
    </ul>
  
    <h2>
      Instance Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#and-instance_method" title="#and (instance method)">- (Boolean) <strong>and</strong>(other = NO_OPTION) {|value| ... }</a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Perform a logical <code>and</code> operation against this option and the provided option or block.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#each-instance_method" title="#each (instance method)">- (Enumerable) <strong>each</strong> {|value| ... }</a>
    

    
  </span>
  
    <span class="note title not_defined_here">
      included
      from <span class='object_link'><a href="AbstractStruct.html#each-instance_method" title="Functional::AbstractStruct#each (method)">AbstractStruct</a></span>
    </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Yields the value of each record field in order.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#each_pair-instance_method" title="#each_pair (instance method)">- (Enumerable) <strong>each_pair</strong> {|field, value| ... }</a>
    

    
  </span>
  
    <span class="note title not_defined_here">
      included
      from <span class='object_link'><a href="AbstractStruct.html#each_pair-instance_method" title="Functional::AbstractStruct#each_pair (method)">AbstractStruct</a></span>
    </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Yields the name and value of each record field in order.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#else-instance_method" title="#else (instance method)">- (Object) <strong>else</strong>(other = NO_OPTION) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Returns the value of this option when some else returns the value of the other option or block.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#eql%3F-instance_method" title="#eql? (instance method)">- (Boolean) <strong>eql?</strong>(other) </a>
    

    
      (also: #==)
    
  </span>
  
    <span class="note title not_defined_here">
      included
      from <span class='object_link'><a href="AbstractStruct.html#eql%3F-instance_method" title="Functional::AbstractStruct#eql? (method)">AbstractStruct</a></span>
    </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Equality--Returns <code>true</code> if <code>other</code> has the same record subclass and has equal field values (according to <code>Object#==</code>).</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#fields-instance_method" title="#fields (instance method)">- (Array) <strong>fields</strong> </a>
    

    
  </span>
  
    <span class="note title not_defined_here">
      included
      from <span class='object_link'><a href="AbstractStruct.html#fields-instance_method" title="Functional::AbstractStruct#fields (method)">AbstractStruct</a></span>
    </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>A frozen array of all record fields.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#inspect-instance_method" title="#inspect (instance method)">- (String) <strong>inspect</strong> </a>
    

    
      (also: #to_s)
    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Describe the contents of this struct in a string.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#length-instance_method" title="#length (instance method)">- (Fixnum) <strong>length</strong> </a>
    

    
      (also: #size)
    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Returns the length of this optional value; 1 if there is a value, 0 otherwise.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#none%3F-instance_method" title="#none? (instance method)">- (Boolean) <strong>none?</strong> </a>
    

    
      (also: #reason?, #rejected?)
    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Is the option absent a value?.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#or-instance_method" title="#or (instance method)">- (Boolean) <strong>or</strong>(other = NO_OPTION) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Perform a logical <code>or</code> operation against this option and the provided option or block.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#some-instance_method" title="#some (instance method)">- (Object) <strong>some</strong> </a>
    

    
      (also: #value)
    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>The value of this option.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#some%3F-instance_method" title="#some? (instance method)">- (Boolean) <strong>some?</strong> </a>
    

    
      (also: #value?, #fulfilled?)
    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Does the option have a value?.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#to_h-instance_method" title="#to_h (instance method)">- (Hash) <strong>to_h</strong> </a>
    

    
  </span>
  
    <span class="note title not_defined_here">
      included
      from <span class='object_link'><a href="AbstractStruct.html#to_h-instance_method" title="Functional::AbstractStruct#to_h (method)">AbstractStruct</a></span>
    </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Returns a Hash containing the names and values for the record’s fields.</p>
</div></span>
  
</li>

      
    </ul>
  


  
  
  
  
  <div id="instance_attr_details" class="attr_details">
    <h2>Instance Attribute Details</h2>
    
      
      <span id=""></span>
      <div class="method_details first">
  <h3 class="signature first" id="reason-instance_method">
  
    - (<tt>Object</tt>) <strong>reason</strong>  <span class="extras">(readonly)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>The reason for the absence of a value when none,
defaults to nil</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


34
35
36</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/functional/option.rb', line 34</span>

<span class='kw'>def</span> <span class='id identifier rubyid_reason'>reason</span>
  <span class='ivar'>@reason</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id=""></span>
      <div class="method_details ">
  <h3 class="signature " id="values-instance_method">
  
    - (<tt>Array</tt>) <strong>values</strong>  <span class="extras">(readonly)</span>
  

  

  
    <span class="not_defined_here">
      Originally defined in module
        <span class='object_link'><a href="AbstractStruct.html#values-instance_method" title="Functional::AbstractStruct#values (method)">AbstractStruct</a></span>
    </span>
  
</h3><div class="docstring">
  <div class="discussion">
    <p>Returns the values of all record fields in order, frozen</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Array</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>the values of all record fields in order, frozen</p>
</div>
      
    </li>
  
</ul>

</div>
</div>
    
  </div>


  <div id="class_method_details" class="method_details_list">
    <h2>Class Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="iff-class_method">
  
    + (<tt><span class='object_link'><a href="" title="Functional::Option (class)">Option</a></span></tt>) <strong>iff</strong>(value, condition = NO_OPTION) { ... }
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>If the condition satisfies, return the given A in some, otherwise, none.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>value</span>
      
      
        <span class='type'>(<tt>Object</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The some value to use if the condition satisfies.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>condition</span>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>NO_OPTION</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>The condition to test (when no block given).</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Yields:</p>
<ul class="yield">
  
    <li>
      
      
        <span class='type'></span>
      
      
      
        
        <div class='inline'><p>The condition to test (when no condition given).</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="" title="Functional::Option (class)">Option</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>A constructed option based on the given condition.</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt>ArgumentError</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>When both a condition and a block are given.</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


180
181
182
183
184</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/functional/option.rb', line 180</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_iff'>iff</span><span class='lparen'>(</span><span class='id identifier rubyid_value'>value</span><span class='comma'>,</span> <span class='id identifier rubyid_condition'>condition</span> <span class='op'>=</span> <span class='const'>NO_OPTION</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>requires either a condition or a block, not both</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id identifier rubyid_condition'>condition</span> <span class='op'>!=</span> <span class='const'>NO_OPTION</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_block_given?'>block_given?</span>
  <span class='id identifier rubyid_condition'>condition</span> <span class='op'>=</span> <span class='id identifier rubyid_block_given?'>block_given?</span> <span class='op'>?</span> <span class='kw'>yield</span> <span class='op'>:</span> <span class='op'>!</span><span class='op'>!</span> <span class='id identifier rubyid_condition'>condition</span>
  <span class='id identifier rubyid_condition'>condition</span> <span class='op'>?</span> <span class='id identifier rubyid_some'>some</span><span class='lparen'>(</span><span class='id identifier rubyid_value'>value</span><span class='rparen'>)</span> <span class='op'>:</span> <span class='id identifier rubyid_none'>none</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="none-class_method">
  
    + (<tt><span class='object_link'><a href="" title="Functional::Option (class)">Option</a></span></tt>) <strong>none</strong>(reason = nil) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Construct an <code>Option</code> with no value.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="" title="Functional::Option (class)">Option</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>the new option</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


41
42
43</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/functional/option.rb', line 41</span>

<span class='kw'>def</span> <span class='id identifier rubyid_none'>none</span><span class='lparen'>(</span><span class='id identifier rubyid_reason'>reason</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='kw'>nil</span><span class='comma'>,</span> <span class='kw'>true</span><span class='comma'>,</span> <span class='id identifier rubyid_reason'>reason</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_freeze'>freeze</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="some-class_method">
  
    + (<tt><span class='object_link'><a href="" title="Functional::Option (class)">Option</a></span></tt>) <strong>some</strong>(value) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Construct an <code>Option</code> with the given value.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>value</span>
      
      
        <span class='type'>(<tt>Object</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>the value of the option</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="" title="Functional::Option (class)">Option</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>the new option</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


49
50
51</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/functional/option.rb', line 49</span>

<span class='kw'>def</span> <span class='id identifier rubyid_some'>some</span><span class='lparen'>(</span><span class='id identifier rubyid_value'>value</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_value'>value</span><span class='comma'>,</span> <span class='kw'>false</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_freeze'>freeze</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="and-instance_method">
  
    - (<tt>Boolean</tt>) <strong>and</strong>(other = NO_OPTION) {|value| ... }
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Perform a logical <code>and</code> operation against this option and the
provided option or block. Returns true if this option is some and:</p>

<ul>
<li>other is an <code>Option</code> with some value</li>
<li>other is a truthy value (not nil or false)</li>
<li>the result of the block is a truthy value</li>
</ul>

<p>If a block is given the value of the current option is passed to the
block and the result of block processing will be evaluated for its
truthiness. An exception will be raised if an other value and a
block are both provided.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>other</span>
      
      
        <span class='type'>(<tt>Object</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>NO_OPTION</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>the value to be evaluated against this option</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Yield Parameters:</p>
<ul class="yieldparam">
  
    <li>
      
        <span class='name'>value</span>
      
      
        <span class='type'>(<tt>Object</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>the value of this option when some</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>true when the union succeeds else false</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt>ArgumentError</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>when given both other and a block</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


106
107
108
109
110
111
112
113
114
115
116
117</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/functional/option.rb', line 106</span>

<span class='kw'>def</span> <span class='kw'>and</span><span class='lparen'>(</span><span class='id identifier rubyid_other'>other</span> <span class='op'>=</span> <span class='const'>NO_OPTION</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>cannot give both an option and a block</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id identifier rubyid_other'>other</span> <span class='op'>!=</span> <span class='const'>NO_OPTION</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_block_given?'>block_given?</span>
  <span class='kw'>return</span> <span class='kw'>false</span> <span class='kw'>if</span> <span class='id identifier rubyid_none?'>none?</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_block_given?'>block_given?</span>
    <span class='op'>!</span><span class='op'>!</span> <span class='kw'>yield</span><span class='lparen'>(</span><span class='id identifier rubyid_some'>some</span><span class='rparen'>)</span>
  <span class='kw'>elsif</span> <span class='const'>Protocol</span><span class='op'>::</span><span class='id identifier rubyid_Satisfy?'>Satisfy?</span> <span class='id identifier rubyid_other'>other</span><span class='comma'>,</span> <span class='symbol'>:Option</span>
    <span class='id identifier rubyid_other'>other</span><span class='period'>.</span><span class='id identifier rubyid_some?'>some?</span>
  <span class='kw'>else</span>
    <span class='op'>!</span><span class='op'>!</span> <span class='id identifier rubyid_other'>other</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="each-instance_method">
  
    - (<tt>Enumerable</tt>) <strong>each</strong> {|value| ... }
  

  

  
    <span class="not_defined_here">
      Originally defined in module
        <span class='object_link'><a href="AbstractStruct.html#each-instance_method" title="Functional::AbstractStruct#each (method)">AbstractStruct</a></span>
    </span>
  
</h3><div class="docstring">
  <div class="discussion">
    <p>Yields the value of each record field in order.
If no block is given an enumerator is returned.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Yield Parameters:</p>
<ul class="yieldparam">
  
    <li>
      
        <span class='name'>value</span>
      
      
        <span class='type'>(<tt>Object</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>the value of the given field</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Enumerable</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>when no block is given</p>
</div>
      
    </li>
  
</ul>

</div>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="each_pair-instance_method">
  
    - (<tt>Enumerable</tt>) <strong>each_pair</strong> {|field, value| ... }
  

  

  
    <span class="not_defined_here">
      Originally defined in module
        <span class='object_link'><a href="AbstractStruct.html#each_pair-instance_method" title="Functional::AbstractStruct#each_pair (method)">AbstractStruct</a></span>
    </span>
  
</h3><div class="docstring">
  <div class="discussion">
    <p>Yields the name and value of each record field in order.
If no block is given an enumerator is returned.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Yield Parameters:</p>
<ul class="yieldparam">
  
    <li>
      
        <span class='name'>field</span>
      
      
        <span class='type'>(<tt>Symbol</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>the record field for the current iteration</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>value</span>
      
      
        <span class='type'>(<tt>Object</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>the value of the current field</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Enumerable</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>when no block is given</p>
</div>
      
    </li>
  
</ul>

</div>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="else-instance_method">
  
    - (<tt>Object</tt>) <strong>else</strong>(other = NO_OPTION) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Returns the value of this option when some else returns the
value of the other option or block. When the other is also an
option its some value is returned. When the other is any other
value it is simply passed through. When a block is provided the
block is processed and the return value of the block is returned.
An exception will be raised if an other value and a block are
both provided.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>other</span>
      
      
        <span class='type'>(<tt>Object</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>NO_OPTION</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>the value to be evaluated when this is none</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Object</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>this value when some else the value of other</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt>ArgumentError</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>when given both other and a block</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


158
159
160
161
162
163
164
165
166
167
168
169</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/functional/option.rb', line 158</span>

<span class='kw'>def</span> <span class='kw'>else</span><span class='lparen'>(</span><span class='id identifier rubyid_other'>other</span> <span class='op'>=</span> <span class='const'>NO_OPTION</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>cannot give both an option and a block</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id identifier rubyid_other'>other</span> <span class='op'>!=</span> <span class='const'>NO_OPTION</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_block_given?'>block_given?</span>
  <span class='kw'>return</span> <span class='id identifier rubyid_some'>some</span> <span class='kw'>if</span> <span class='id identifier rubyid_some?'>some?</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_block_given?'>block_given?</span>
    <span class='kw'>yield</span>
  <span class='kw'>elsif</span> <span class='const'>Protocol</span><span class='op'>::</span><span class='id identifier rubyid_Satisfy?'>Satisfy?</span> <span class='id identifier rubyid_other'>other</span><span class='comma'>,</span> <span class='symbol'>:Option</span>
    <span class='id identifier rubyid_other'>other</span><span class='period'>.</span><span class='id identifier rubyid_some'>some</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_other'>other</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="eql?-instance_method">
  
    - (<tt>Boolean</tt>) <strong>eql?</strong>(other) 
  

  
    <span class="aliases">Also known as:
    <span class="names"><span id='==-instance_method'>==</span></span>
    </span>
  

  
    <span class="not_defined_here">
      Originally defined in module
        <span class='object_link'><a href="AbstractStruct.html#eql%3F-instance_method" title="Functional::AbstractStruct#eql? (method)">AbstractStruct</a></span>
    </span>
  
</h3><div class="docstring">
  <div class="discussion">
    <p>Equality--Returns <code>true</code> if <code>other</code> has the same record subclass and has equal
field values (according to <code>Object#==</code>).</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>other</span>
      
      
        <span class='type'>(<tt>Object</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>the other record to compare for equality</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>true when equal else false</p>
</div>
      
    </li>
  
</ul>

</div>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="fields-instance_method">
  
    - (<tt>Array</tt>) <strong>fields</strong> 
  

  

  
    <span class="not_defined_here">
      Originally defined in module
        <span class='object_link'><a href="AbstractStruct.html#fields-instance_method" title="Functional::AbstractStruct#fields (method)">AbstractStruct</a></span>
    </span>
  
</h3><div class="docstring">
  <div class="discussion">
    <p>A frozen array of all record fields.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Array</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>all record fields in order, frozen</p>
</div>
      
    </li>
  
</ul>

</div>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="inspect-instance_method">
  
    - (<tt>String</tt>) <strong>inspect</strong> 
  

  
    <span class="aliases">Also known as:
    <span class="names"><span id='to_s-instance_method'>to_s</span></span>
    </span>
  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Describe the contents of this struct in a string. Will include the name of the
record class, all fields, and all values.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>the class and contents of this record</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


187
188
189</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/functional/option.rb', line 187</span>

<span class='kw'>def</span> <span class='id identifier rubyid_inspect'>inspect</span>
  <span class='kw'>super</span><span class='period'>.</span><span class='id identifier rubyid_gsub'>gsub</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'> :some</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> (</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_some?'>some?</span> <span class='op'>?</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>some</span><span class='tstring_end'>&#39;</span></span> <span class='op'>:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>none</span><span class='tstring_end'>&#39;</span></span><span class='embexpr_end'>}</span><span class='tstring_content'>) :some</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="length-instance_method">
  
    - (<tt>Fixnum</tt>) <strong>length</strong> 
  

  
    <span class="aliases">Also known as:
    <span class="names"><span id='size-instance_method'>size</span></span>
    </span>
  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Returns the length of this optional value;
1 if there is a value, 0 otherwise.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Fixnum</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The length of this optional value;
1 if there is a value, 0 otherwise.</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


85
86
87</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/functional/option.rb', line 85</span>

<span class='kw'>def</span> <span class='id identifier rubyid_length'>length</span>
  <span class='id identifier rubyid_none?'>none?</span> <span class='op'>?</span> <span class='int'>0</span> <span class='op'>:</span> <span class='int'>1</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="none?-instance_method">
  
    - (<tt>Boolean</tt>) <strong>none?</strong> 
  

  
    <span class="aliases">Also known as:
    <span class="names"><span id='reason?-instance_method'>reason?</span>, <span id='rejected?-instance_method'>rejected?</span></span>
    </span>
  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Is the option absent a value?</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>true if none else false</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


66
67
68</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/functional/option.rb', line 66</span>

<span class='kw'>def</span> <span class='id identifier rubyid_none?'>none?</span>
  <span class='ivar'>@none</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="or-instance_method">
  
    - (<tt>Boolean</tt>) <strong>or</strong>(other = NO_OPTION) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Perform a logical <code>or</code> operation against this option and the
provided option or block. Returns true if this option is some.
If this option is none it returns true if:</p>

<ul>
<li>other is an <code>Option</code> with some value</li>
<li>other is a truthy value (not nil or false)</li>
<li>the result of the block is a truthy value</li>
</ul>

<p>If a block is given the value of the result of block processing
will be evaluated for its truthiness. An exception will be raised
if an other value and a block are both provided.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>other</span>
      
      
        <span class='type'>(<tt>Object</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>NO_OPTION</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>the value to be evaluated against this option</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>true when the intersection succeeds else false</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt>ArgumentError</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>when given both other and a block</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


134
135
136
137
138
139
140
141
142
143
144
145</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/functional/option.rb', line 134</span>

<span class='kw'>def</span> <span class='kw'>or</span><span class='lparen'>(</span><span class='id identifier rubyid_other'>other</span> <span class='op'>=</span> <span class='const'>NO_OPTION</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>cannot give both an option and a block</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id identifier rubyid_other'>other</span> <span class='op'>!=</span> <span class='const'>NO_OPTION</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_block_given?'>block_given?</span>
  <span class='kw'>return</span> <span class='kw'>true</span> <span class='kw'>if</span> <span class='id identifier rubyid_some?'>some?</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_block_given?'>block_given?</span>
    <span class='op'>!</span><span class='op'>!</span> <span class='kw'>yield</span>
  <span class='kw'>elsif</span> <span class='const'>Protocol</span><span class='op'>::</span><span class='id identifier rubyid_Satisfy?'>Satisfy?</span> <span class='id identifier rubyid_other'>other</span><span class='comma'>,</span> <span class='symbol'>:Option</span>
    <span class='id identifier rubyid_other'>other</span><span class='period'>.</span><span class='id identifier rubyid_some?'>some?</span>
  <span class='kw'>else</span>
    <span class='op'>!</span><span class='op'>!</span> <span class='id identifier rubyid_other'>other</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="some-instance_method">
  
    - (<tt>Object</tt>) <strong>some</strong> 
  

  
    <span class="aliases">Also known as:
    <span class="names"><span id='value-instance_method'>value</span></span>
    </span>
  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>The value of this option.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Object</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>the value when some else nil</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


75
76
77</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/functional/option.rb', line 75</span>

<span class='kw'>def</span> <span class='id identifier rubyid_some'>some</span>
  <span class='id identifier rubyid_to_h'>to_h</span><span class='lbracket'>[</span><span class='symbol'>:some</span><span class='rbracket'>]</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="some?-instance_method">
  
    - (<tt>Boolean</tt>) <strong>some?</strong> 
  

  
    <span class="aliases">Also known as:
    <span class="names"><span id='value?-instance_method'>value?</span>, <span id='fulfilled?-instance_method'>fulfilled?</span></span>
    </span>
  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Does the option have a value?</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>true if some else false</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


57
58
59</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/functional/option.rb', line 57</span>

<span class='kw'>def</span> <span class='id identifier rubyid_some?'>some?</span>
  <span class='op'>!</span> <span class='id identifier rubyid_none?'>none?</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="to_h-instance_method">
  
    - (<tt>Hash</tt>) <strong>to_h</strong> 
  

  

  
    <span class="not_defined_here">
      Originally defined in module
        <span class='object_link'><a href="AbstractStruct.html#to_h-instance_method" title="Functional::AbstractStruct#to_h (method)">AbstractStruct</a></span>
    </span>
  
</h3><div class="docstring">
  <div class="discussion">
    <p>Returns a Hash containing the names and values for the record’s fields.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Hash</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>collection of all fields and their associated values</p>
</div>
      
    </li>
  
</ul>

</div>
</div>
    
  </div>

</div>

    <div id="footer">
  Generated on Tue Mar 15 04:59:12 2016 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.8.7.6 (ruby-2.2.3).
</div>

  </body>
</html>